import random
from datareader import player_stat_ripper
from player_cards import user_profile, opponent_profile

#variables; these will be generated by 
#user_profile
#opponent_profile; imported above

#you can switch these two up for testing; encounter function returns these below
offense = user_profile['name']
defense = opponent_profile['name']

print user_profile
print opponent_profile

#weighted probabilities
offense_to_take_shot = [float(player_stat_ripper(offense, 'TOV%')), (100 - float(player_stat_ripper(offense, 'TOV%')))]
defense_to_steal = [(100 - float(player_stat_ripper(defense, 'STL%'))), (float(player_stat_ripper(defense, 'STL%')))]
defense_to_block = '' #not calculated yet
defense_to_rebound = '' #see above
offense_to_score = '' #see above
offense_to_orebound = '' #see above

#test print
print offense_to_take_shot
print defense_to_steal

#weighted probability roller
def encounterweights(weights):
    totals = []
    running_total = 0

    for w in weights:
        running_total += w
        totals.append(running_total)

    rnd = random.random() * running_total
    for i, total in enumerate(totals):
        if rnd < total:
            return i
        
##define these functions under class for LONG SHOT ATTEMPT / 3pt shot attempt
def stamina_comp(offense_stamina, defense_stamina):
    if offense_stamina > defense_stamina:
        return offense
    else:
        return defense

def speed_comp(offense_speed, defense_speed):
    if offense_speed > defense_speed:
        return offense
    else:
        return defense

#####    
def off_fail(check_opponent):
    if encounterweights(check_opponent) == 0:
        return stamina_comp(offense, defense)
    else:
        return defense

def off_succede(check_opponent):
    if encounterweights(check_opponent) == 0: 
        return offense
    else:
        return speed_comp(offense, defense)  

#########  encounter for initiating offense moves / 3pt shot
def encounter(offensive_player, defensive_player):
    if encounterweights(offensive_player) == 0: 
        return off_fail(defensive_player)
    else:
        return off_succede(defensive_player) 
 
     
#output; testing percentages the hard way
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
print encounter(offense_to_take_shot, defense_to_steal)
